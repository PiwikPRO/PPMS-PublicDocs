type: object
required:
  - website_id
  - attributes
properties:
  website_id:
    type: string
    description: ID of the website.
    example: '0fdd8cc2-93b1-428c-8373-97a452f5b10c'
  user_id:
    type: string
    description: |
      User ID.

      It will let Audience Manager identify user across devices (laptop, phone) and sessions.
    example: jdoe
  device_id:
    type: string
    description: |
      Device ID.

      It will let Audience Manager identify user across sessions.
    example: 39d96a38018f490c
  email:
    type: string
    description: |
      User email.

      It will let Audience Manager identify user across devices (laptop, phone) and sessions.
    example: john@doe.com
  analytics_visitor_id:
    type: string
    description: |
      Analytics Visitor ID of the user (previously Piwik Visitor ID).

      It will let Audience Manager identify user during session.
    example: 39d96a38018f490c
  attributes:
    type: array
    description: Attributes of the occurred event.
    items:
      type: object
      required:
        - name
        - value
      properties:
        name:
          type: string
          description: Name of the attribute.
        value:
          type: string or float
          description: |
            Value of the attribute. Value type must match attribute type
            configured in Audience Manager.
        action:
          type: string
          enum:
            - set
            - add
            - list-add
            - list-remove
          default: set
          description: |
            Action to perform:
            * `set` – overwrite the existing value with the new value,
            * `add` – add the new value (or 1, if not specified) to the existing value,
            * `list-add` - new value will be a list containing previous value(s) in addition to the added value,
            * `list-remove` - new value will be a list containing previous value(s) without the removed value.
      example:
        name: occupation
        value: unicorn
