Legacy vs. new metrics
===============

If you migrate from Analytics classic to Analytics new, you need to use different metric names in your API calls. Here's a list that will help you with that.


Simple metrics
--------------

+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Metric name                      | Legacy API                                  | New API                                             |
+==================================+=============================================+=====================================================+
| Events                           | nb_actions                                  | ``{"column_id": "events"}``                         |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Sessions                         | nb_visits                                   | ``{"column_id": "sessions"}``                       |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Visitors                         | nb_uniq_visitors                            | ``{"column_id": "visitors"}``                       |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Users                            | nb_users                                    | ``{"column_id": "users"}``                          |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Page views                       | nb_pageviews                                | ``{"column_id": "page_views"}``                     |
|                                  | nb_hits                                     |                                                     |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Unique page views                | nb_uniq_pageviews                           | ``{"column_id": "unique_page_views"}``              |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Outlinks                         | nb_outlinks                                 | ``{"column_id": "outlinks"}``                       |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Unique outlinks                  | nb_uniq_outlinks                            | ``{"column_id": "unique_outlinks"}``                |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Downloads                        | nb_downloads                                | ``{"column_id": "downloads"}``                      |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Unique downloads                 | nb_uniq_downloads                           | ``{"column_id": "unique_downloads"}``               |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Searches                         | \–                                          | ``{"column_id": "searches"}``                       |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Unique searches                  | nb_searches                                 | ``{"column_id": "unique_searches"}``                |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Custom events                    | nb_events                                   | ``{"column_id": "custom_events"}``                  |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Unique custom events             | \–                                          | ``{"column_id": "unique_custom_events"}``           |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Content impressions              | nb_impressions                              | ``{"column_id": "content_impressions"}``            |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Unique content impressions       | \–                                          | ``{"column_id": "unique_content_impressions"}``     |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Content interactions             | nb_interactions                             | ``{"column_id": "content_interactions"}``           |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Unique content interactions      | \–                                          | ``{"column_id": "unique_content_interactions"}``    |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Content interaction rate         | interaction_rate                            | ``{"column_id": "content_interaction_rate"}``       |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Goal conversions                 | nb_conversions                              | ``{"column_id": "goal_conversions"}``               |
|                                  |                                             |                                                     |
+----------------------------------+ Note: Ecommerce conversion was reported     +-----------------------------------------------------+
| Ecommerce conversions            | as goal conversion for goal_id 0.           | ``{"column_id": "ecommerce_conversions"}``          |
|                                  |                                             |                                                     |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Goal conversions (specific goal) | goal_<idGoal>_nb_conversions                | ``{"column_id": "goal_conversions", "goal_id": 1}`` |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Ecommerce abandoned carts        | \–                                          | ``{"column_id": "ecommerce_abandoned_carts"}``      |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Goal conversion rate             | conversion_rate                             | ``{"column_id": "goal_conversion_rate"}``           |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Ecommerce conversion rate        | \–                                          | ``{"column_id": "ecommerce_conversion_rate"}``      |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Entries                          | entry_nb_visits                             | ``{"column_id": "entries"}``                        |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Entry rate                       | \–                                          | ``{"column_id": "entry_rate"}``                     |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Exits                            | exit_nb_visits                              | ``{"column_id": "exits"}``                          |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Exit rate                        | exit_rate                                   | ``{"column_id": "exit_rate"}``                      |
|                                  |                                             |                                                     |
+----------------------------------+ Note: Definition switches depending         +-----------------------------------------------------+
| Exit rate (events)               | on report                                   | ``{"column_id": "exit_rate_events"}``               |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Bounces                          | bounce_count                                | ``{"column_id": "bounces"}``                        |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Bounce rate                      | bounce_rate                                 | ``{"column_id": "bounce_rate"}``                    |
|                                  |                                             |                                                     |
+----------------------------------+ Note: Definition switches depending         +-----------------------------------------------------+
| Bounce rate (events)             | on report                                   | ``{"column_id": "bounce_rate_events"}``             |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| % of returning visitors          | \–                                          | ``{"column_id": "returning_visitors_rate"}``        |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Visitor IPs                      | \–                                          | ``{"column_id": "visitor_ips"}``                    |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Events per session               | nb_actions_per_visit                        | ``{"column_id": "events_per_session"}``             |
|                                  |                                             |                                                     |
|                                  | Note: Does not include all event types      |                                                     |
|                                  |                                             |                                                     |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+
| Unique purchases                 | \–                                          | ``{"column_id": "unique_purchases"}``               |
+----------------------------------+---------------------------------------------+-----------------------------------------------------+

.. note::
    **Note:** Event dimensions can only be used with metrics calculated for an event dimension. |docs_link|

.. |docs_link| raw:: html

   <a href="https://help.piwik.pro/support/questions/why-cant-i-combine-some-dimensions-and-metrics" target="_blank">Read more.</a>



Calculated metrics
------------------

Here's a list of common examples of calculated metrics. Not all possible combinations are listed here.

+-------------------------------------+---------------------------------+-----------------------------------------------------------------------------+
| Metric name                         | Legacy API                      | New API                                                                     |
+=====================================+=================================+=============================================================================+
| Sum of goal revenue                 | revenue                         | ``{"column_id": "goal_revenue", "transformation_id": "sum"}``               |
+-------------------------------------+ ecommerce revenue was reported  +-----------------------------------------------------------------------------+
| Sum of ecommerce revenue            | as goal revenue for goal_id 0   | ``{"column_id": "revenue", "transformation_id": "sum"}``                    |
+-------------------------------------+---------------------------------+-----------------------------------------------------------------------------+
| Sum of goal revenue (specific goal) | goal_<idGoal>_revenue           | ``{"column_id": "goal_revenue", "transformation_id": "sum", "goal_id": 1}`` |
+-------------------------------------+---------------------------------+-----------------------------------------------------------------------------+
| Average generation time             | avg_time_generation             | ``{"column_id": "page_generation_time", "transformation_id": "average"}``   |
+-------------------------------------+---------------------------------+-----------------------------------------------------------------------------+
| Max generation time                 | max_time_generation             | ``{"column_id": "page_generation_time", "transformation_id": "max"}``       |
+-------------------------------------+---------------------------------+-----------------------------------------------------------------------------+
| Average time on page                | avg_time_on_page                | ``{"column_id": "time_on_page", "transformation_id": "average"}``           |
+-------------------------------------+---------------------------------+-----------------------------------------------------------------------------+
| Sum of time on page                 | sum_time_spent                  | ``{"column_id": "time_on_page", "transformation_id": "sum"}``               |
+-------------------------------------+---------------------------------+-----------------------------------------------------------------------------+
| Sum of session time                 | sum_visit_length                | ``{"column_id": "session_total_time", "transformation_id": "sum"}``         |
+-------------------------------------+---------------------------------+-----------------------------------------------------------------------------+
| Average session time                | avg_time_on_site                | ``{"column_id": "session_total_time", "transformation_id": "average"}``     |
+-------------------------------------+---------------------------------+-----------------------------------------------------------------------------+
| Max events in session               | max_actions                     | ``{"column_id": "session_total_events", "transformation_id": "max"}``       |
+-------------------------------------+---------------------------------+-----------------------------------------------------------------------------+
| Sum of custom events value          | sum_event_value                 | ``{"column_id": "custom_event_value", "transformation_id": "sum"}``         |
+-------------------------------------+---------------------------------+-----------------------------------------------------------------------------+
| Average custom events value         | avg_event_value                 | ``{"column_id": "custom_event_value", "transformation_id": "average"}``     |
+-------------------------------------+---------------------------------+-----------------------------------------------------------------------------+

.. note::
    **Note:** Event dimensions can only be used with metrics calculated for an event dimension. |docs_link|

.. |docs_link| raw:: html

   <a href="https://help.piwik.pro/support/questions/why-cant-i-combine-some-dimensions-and-metrics" target="_blank">Read more.</a>


Not available
-------------

+--------------------------------------------------------------------+----------------------------------+----------------------------------------------------------------------+
| Name                                                               | Legacy API                       | Closest equivalent in Analytics new                                  |
+====================================================================+==================================+======================================================================+
| Number of sessions that converted a goal                           | nb_visits_converted              | Sessions metric with filter goal_conversions > 0                     |
+--------------------------------------------------------------------+----------------------------------+----------------------------------------------------------------------+
| Number of custom events which had a value set                      | nb_events_with_value             | Custom events metric with filter custom event value > 0              |
+--------------------------------------------------------------------+----------------------------------+----------------------------------------------------------------------+
| Number of hits that included generation time information           | nb_hits_with_time_generation     | Page views metric with filter page_generation_time > 0               |
+--------------------------------------------------------------------+----------------------------------+----------------------------------------------------------------------+
| Number of unique visitors that started their visit on this page    | entry_nb_uniq_visitors           |  \-                                                                  |
+--------------------------------------------------------------------+----------------------------------+----------------------------------------------------------------------+
| Number of page views for sessions that started on this page        | entry_nb_actions                 | Entries metric (all entries are page views now)                      |
+--------------------------------------------------------------------+----------------------------------+----------------------------------------------------------------------+
| Time spent, in seconds, by sessions that started on this page      | entry_sum_visit_length           |  \-                                                                  |
+--------------------------------------------------------------------+----------------------------------+----------------------------------------------------------------------+
| Number of sessions that started on this page, and bounced          | entry_bounce_count               | Bounces metric                                                       |
+--------------------------------------------------------------------+----------------------------------+----------------------------------------------------------------------+
| Number of unique visitors that ended their visit on this page      | exit_nb_uniq_visitors            |  \-                                                                  |
+--------------------------------------------------------------------+----------------------------------+----------------------------------------------------------------------+
| Sum of daily unique visitors over days in the period               | sum_daily_nb_uniq_visitors       | No longer relevant, unique visitors are calculated across any period |
+--------------------------------------------------------------------+----------------------------------+                                                                      |
| Sum of daily unique visitors that started their visit on this page | sum_daily_entry_nb_uniq_visitors |                                                                      |
|                                                                    | sum_daily_exit_nb_uniq_visitors  |                                                                      |
+--------------------------------------------------------------------+----------------------------------+----------------------------------------------------------------------+
| Number of times this action was done after a site search           | nb_hits_following_search         |  \-                                                                  |
+--------------------------------------------------------------------+----------------------------------+----------------------------------------------------------------------+
